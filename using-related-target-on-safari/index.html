<!doctype html><html lang=ko dir=ltr class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.0"><title data-rh=true>Safari에서 relatedTarget 사용하기 | DevJum0</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://jum0.github.io/using-related-target-on-safari><meta data-rh=true property=og:locale content=ko><meta data-rh=true name=docusaurus_locale content=ko><meta data-rh=true name=docusaurus_tag content=default><meta data-rh=true name=docsearch:language content=ko><meta data-rh=true name=docsearch:docusaurus_tag content=default><meta data-rh=true property=og:title content="Safari에서 relatedTarget 사용하기 | DevJum0"><meta data-rh=true name=description content="{/ truncate /}"><meta data-rh=true property=og:description content="{/ truncate /}"><meta data-rh=true property=og:type content=article><meta data-rh=true property=article:published_time content=2023-07-18T00:00:00.000Z><meta data-rh=true property=article:author content=https://github.com/jum0><meta data-rh=true property=article:tag content=Event,relatedTarget,Safari><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://jum0.github.io/using-related-target-on-safari><link data-rh=true rel=alternate href=https://jum0.github.io/using-related-target-on-safari hreflang=ko><link data-rh=true rel=alternate href=https://jum0.github.io/using-related-target-on-safari hreflang=x-default><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@id":"https://jum0.github.io/using-related-target-on-safari","@type":"BlogPosting","author":{"@type":"Person","description":"Frontend Developer","image":"https://github.com/jum0.png","name":"jum0","url":"https://github.com/jum0"},"datePublished":"2023-07-18T00:00:00.000Z","description":"{/ truncate /}","headline":"Safari에서 relatedTarget 사용하기","isPartOf":{"@id":"https://jum0.github.io/","@type":"Blog","name":"Blog"},"keywords":[],"mainEntityOfPage":"https://jum0.github.io/using-related-target-on-safari","name":"Safari에서 relatedTarget 사용하기","url":"https://jum0.github.io/using-related-target-on-safari"}</script><link rel=alternate type=application/rss+xml href=/rss.xml title="DevJum0 RSS Feed"><link rel=alternate type=application/atom+xml href=/atom.xml title="DevJum0 Atom Feed"><link rel=stylesheet href=/assets/css/styles.3a2516d4.css><script src=/assets/js/runtime~main.f5e7cefd.js defer></script><script src=/assets/js/main.bdcdab1d.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="본문으로 건너뛰기"><a class=skipToContent_Y3KU href=#__docusaurus_skipToContent_fallback>본문으로 건너뛰기</a></div><nav aria-label=메인 class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="사이드바 펼치거나 접기" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo_mo.png alt="Blog Logo" class="themedComponent_MbuF themedComponent--light_Cvci"><img src=/img/logo_mo.png alt="Blog Logo" class="themedComponent_MbuF themedComponent--dark_VErd"></div></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/jum0 target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_W4Oc colorModeToggle_ag6z"><button class="clean-btn toggleButton_zW1H toggleButtonDisabled_iC03" type=button disabled title="system mode" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_P9K9 lightToggleIcon_dBN3"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_P9K9 darkToggleIcon_liN_"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_P9K9 systemToggleIcon_d7xY"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_XPOv></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_w36V"><div class="container margin-vert--lg"><div class=row><aside class="col col--3"><nav class="sidebar_SuxA thin-scrollbar" aria-label="최근 블로그 문서 둘러보기"><div class="sidebarItemTitle_fX2g margin-bottom--md">All posts</div><div role=group><h3 class=yearGroupHeading_XByZ>2023</h3><ul class="sidebarItemList_diaZ clean-list"><li class=sidebarItem_eYJg><a aria-current=page class="sidebarItemLink_OlR_ sidebarItemLinkActive_g3y8" href=/using-related-target-on-safari>Safari에서 relatedTarget 사용하기</a></ul></div><div role=group><h3 class=yearGroupHeading_XByZ>2021</h3><ul class="sidebarItemList_diaZ clean-list"><li class=sidebarItem_eYJg><a class=sidebarItemLink_OlR_ href=/welcome>Welcome</a><li class=sidebarItem_eYJg><a class=sidebarItemLink_OlR_ href=/mdx-blog-post>MDX Blog Post</a></ul></div><div role=group><h3 class=yearGroupHeading_XByZ>2019</h3><ul class="sidebarItemList_diaZ clean-list"><li class=sidebarItem_eYJg><a class=sidebarItemLink_OlR_ href=/long-blog-post>Long Blog Post</a><li class=sidebarItem_eYJg><a class=sidebarItemLink_OlR_ href=/first-blog-post>First Blog Post</a></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class=title_eNlZ>Safari에서 relatedTarget 사용하기</h1><div class="container_MRYG margin-vert--md"><time datetime=2023-07-18T00:00:00.000Z>2023년 7월 18일</time> · <!-- -->약 5분</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_qbqk"><div class="avatar margin-bottom--sm"><a href=https://github.com/jum0 target=_blank rel="noopener noreferrer" class=avatar__photo-link><img class="avatar__photo authorImage_BD4_" src=https://github.com/jum0.png alt=jum0></a><div class="avatar__intro authorDetails_gzwi"><div class=avatar__name><a href=https://github.com/jum0 target=_blank rel="noopener noreferrer"><span class=authorName_SLmc>jum0</span></a></div><small class=authorTitle_ZCuc title="Frontend Developer">Frontend Developer</small><div class=authorSocials_ep4U></div></div></div></div></div></header><div id=__blog-post-container class=markdown>
<p>개발하면서 새롭게 알게된 relatedTarget(<a href=https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/relatedTarget target=_blank rel="noopener noreferrer">MouseEvent</a>, <a href=https://developer.mozilla.org/en-US/docs/Web/API/FocusEvent/relatedTarget target=_blank rel="noopener noreferrer">FocusEvent</a>)과 관련 이슈에 대해 작성한 글입니다.</p>
<h2 class="anchor anchorWithStickyNavbar_ERPW" id=목차>목차<a href=#목차 class=hash-link aria-label="목차에 대한 직접 링크" title="목차에 대한 직접 링크">​</a></h2>
<ul>
<li><a href=#%EC%9A%94%EA%B5%AC-%EC%82%AC%ED%95%AD>요구 사항</a></li>
<li><a href=#relatedtarget>relatedTarget</a></li>
<li><a href=#%EC%9D%B4%EC%8A%88>이슈</a></li>
<li><a href=#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95>해결 방법</a></li>
<li><a href=#%EC%A0%95%EB%A6%AC>정리</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_ERPW" id=요구-사항>요구 사항<a href=#요구-사항 class=hash-link aria-label="요구 사항에 대한 직접 링크" title="요구 사항에 대한 직접 링크">​</a></h2>
<p>구현해야 할 요구 사항은 검색창과 검색 키워드, 키워드 리셋 버튼 간 인터랙션에 관한 것입니다.
인터랙션이라고 표현하니 복잡하게 느껴질 수 있지만, 주변에서 비슷한 기능을 쉽게 접할 수 있습니다.</p>
<img src=/assets/images/requirement-example-8e5bab7669005f8d06df6188d62a0f78.png width=50% alt="요구사항 예시">
<p>요구 사항을 정리하면 다음과 같습니다.</p>
<ul>
<li>검색창이 포커스 된다<!-- -->
<ul>
<li>키워드가 없으면 키워드 리셋 버튼이 나타나지 않는다</li>
<li>키워드가 있으면 키워드 리셋 버튼이 나타난다</li>
</ul>
</li>
<li>검색창에서 포커스 아웃되면 키워드 리셋 버튼이 나타나지 않는다</li>
<li>키워드 리셋 버튼을 누르면 키워드가 초기화되고, 검색창이 포커스 된다</li>
</ul>
<p>relatedTarget은 위 요구 사항 중 <code>검색창에서 포커스 아웃되면 키워드 리셋 버튼이 나타나지 않는다</code>는 조건을 만족하기 위해서 찾아보면서 알게 되었습니다.</p>
<h2 class="anchor anchorWithStickyNavbar_ERPW" id=relatedtarget>relatedTarget<a href=#relatedtarget class=hash-link aria-label="relatedTarget에 대한 직접 링크" title="relatedTarget에 대한 직접 링크">​</a></h2>
<p>relatedTarget은 MouseEvent 와 FocusEvent의 읽기 전용 property로, 이벤트가 발생한 target과 관련된 target을 의미합니다.</p>
<p>조금 생소할 수 있는데, 구체적으로 Mouse Eevnt Type 중 <a href=https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseenter_event target=_blank rel="noopener noreferrer">mouseenter</a>를 들어보겠습니다.</p>
<p>해당 이벤트는 마우스와 같은 포인팅 디바이스의 커서가 요소 안으로 처음 이동했을 때 발생하고, target은 이벤트가 발생한 요소의 객체를 의미합니다.
여기서 relatedTarget은 커서가 mouseevent가 발생하는 요소로 들어오기 전에 있던 직전 요소의 객체를 의미합니다.</p>
<p>즉, 커서가 B 요소에서 A 요소로 이동했고 A 요소로 이동하면서 mouseenter 이벤트가 발생했다면, 발생한 이벤트의 relatedTarget은 B 요소의 객체가 됩니다.</p>
<img src=/assets/images/related-target-example-1-e3bd1a542d0e1e512b858370b08de362.gif width=100% alt="related target 예시 1">
<p>relatedTarget은 <a href=https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/relatedTarget target=_blank rel="noopener noreferrer">Mouse Event Type</a> 중 mouseenter, mouseleave, mouseover, mouseout, dragenter, dragleave,
<a href=https://developer.mozilla.org/en-US/docs/Web/API/FocusEvent/relatedTarget target=_blank rel="noopener noreferrer">Focus Event Type</a> 중 focus, blur, focusin, focusout에서 사용할 수 있습니다.</p>
<p>특징으로 A 요소와 B 요소가 존재하고 예시와 같이 두 요소 간에 커서 이동이 발생할 때,
mouseenter와 mouseleave처럼 동작이 반대되는 이벤트라면 A 요소에서 발생하는 mouseenter 이벤트의 relatedTarget은 B 요소에서 발생하는 mouseleave 이벤트의 target이 됩니다.</p>
<img src=/assets/images/related-target-example-2-ebaeecd654903c8894e829c2019fc11b.gif width=100% alt="related target 예시 2">
<img src=/assets/images/related-target-example-3-603f87e4d6553eeaa7790e50c00fab3b.png width=100% alt="related target 예시 3">
<h2 class="anchor anchorWithStickyNavbar_ERPW" id=이슈>이슈<a href=#이슈 class=hash-link aria-label="이슈에 대한 직접 링크" title="이슈에 대한 직접 링크">​</a></h2>
<p>만족하기 위한 조건은 <code>검색창에서 포커스 아웃되면 키워드 리셋 버튼이 나타나지 않는다</code>입니다.</p>
<p>해당 조건을 조금 더 세분화하면 다음과 같습니다.</p>
<ul>
<li>검색창에서 포커스 아웃되면 키워드 리셋 버튼이 사라진다.</li>
<li>검색창에서 키워드 리셋 버튼을 눌러 포커스 아웃되면, 키워드가 초기화되고, 검색창이 다시 포커스 된다.</li>
</ul>
<p>기능을 구현하기 위해서 <code>&lt;input></code> 태그의 blur 이벤트 핸들러를 다음과 같이 작성했습니다.</p>
<div class="language-tsx codeBlockContainer_nkr7 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_lUiR><pre tabindex=0 class="prism-code language-tsx codeBlock_f7Ez thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_bYHv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token function-variable function" style=color:#d73a49>handleBlur</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">e</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access maybe-class-name">FocusEvent</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token arrow operator" style=color:#393A34>=></span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style=color:#393A34>.</span><span class="token method function property-access" style=color:#d73a49>log</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>'handleBlur - e.relatedTarget'</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> e</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">relatedTarget</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>!</span><span class="token plain">e</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">relatedTarget</span><span class="token operator" style=color:#393A34>?.</span><span class="token method function property-access" style=color:#d73a49>contains</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">resetKeywordButtonRef</span><span class="token punctuation" style=color:#393A34>.</span><span class="token property-access">current</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>setResetKeywordButtonVisible</span><span class="token punctuation" style=color:#393A34>(</span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<p>핸들러의 정상적인 동작 과정은 다음과 같습니다.</p>
<ul>
<li>relatedTarget에 키워드 리셋 버튼 요소가 포함된다.</li>
<li>키워드 리셋 버튼이 사라지지 않는다.</li>
<li>키워드 리셋 버튼이 클릭되어 로직(키워드 초기화)이 동작한다.</li>
</ul>
<p>하지만 Safari에서 핸들러의 동작 과정은 다음과 같습니다.</p>
<ul>
<li>relatedTarget이 null이 되어 키워드 리셋 버튼 요소를 포함하지 않는다.</li>
<li>if 문이 실행되어 키워드 리셋 버튼이 사라진다.</li>
<li>키워드 리셋 버튼이 사라지므로 클릭되지 않고, 따라서 로직도 동작하지 않는다.</li>
</ul>
<img src=/assets/images/safari-issue-example-eefa81ef8eecb879fe4f2ac4777b4014.gif width=100% alt="safari issue 예시">
<p>Chrome과 다르게 Safari에서 blur 이벤트 발생 시, relatedTarget이 null이 되어 발생하는 이슈입니다.</p>
<p><a href=https://www.w3.org/TR/2023/WD-uievents-20230627/#event-type-blur target=_blank rel="noopener noreferrer">W3C 문서</a>를 보면 blur 이벤트의 relatedTarget은 포커스를 받는 event target입니다.</p>
<p>따라서 키워드 리셋 버튼을 <code>&lt;div></code> 태그가 아닌, 클릭했을 때 포커스를 얻는 <code>&lt;button></code> 태그로 변경했으나 여전히 동작하지 않았습니다.</p>
<p><a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus target=_blank rel="noopener noreferrer">button mdn</a>을 보니 Safari의 경우 버튼이 클릭되었을 때 포커스를 주지 않는다고 합니다.
직접 확인해보니 Chrome과 다르게 Safari에서는 버튼이 클릭되었을 때 포커스를 주지 않습니다.</p>
<img src=/assets/images/chrome-safari-button-click-example-82f862fb4324838515eeed2de851e04e.gif width=100% alt="chrome safari 버튼 클릭 예시">
<h2 class="anchor anchorWithStickyNavbar_ERPW" id=해결-방법>해결 방법<a href=#해결-방법 class=hash-link aria-label="해결 방법에 대한 직접 링크" title="해결 방법에 대한 직접 링크">​</a></h2>
<p>Safari에서 버튼이 클릭되었을 때 포커스를 주면 되지 않을까 생각하다가 다른 브라우저들과 다르게 동작하는 이유가 궁금해졌습니다.
찾아보니 Mac에서 사용되는 다른 프로그램들과의 통일성을 유지하기 위해서입니다.
Mac에서 사용되는 다른 프로그램들과 다르게 Safari에서만 다르게 동작한다면 이는 통일성을 해치게 된다는 게 입장입니다.
대부분의 다른 브라우저들과 다르게 동작하여 혼란을 야기할 수 있다는 게 대표적인 반대 입장인데, 오랜 논쟁에도 해당 이슈는 수정되지 않았습니다.
시간이 되면 <a href="https://bugs.webkit.org/show_bug.cgi?id=22261" target=_blank rel="noopener noreferrer">이슈에 관한 논쟁</a>을 읽어보는 것도 꽤 재밌습니다.</p>
<p>다시 해결 방법으로 돌아와서, relatedTarget이 null 되지 않도록 하는 방법은 간단합니다.</p>
<p>태그에 <code>tabIndex</code>를 추가하면 됩니다.</p>
<p>tabIndex는 브라우저에게 요소가 포커스 가능하다는 것을 알려줍니다. 따라서 tabIndex를 추가하면 blur 이벤트 발생 시, Safari에서도 relatedTarget을 획득할 수 있습니다.</p>
<img src=/assets/images/normality-example-db832899390ed3d5e069a18240b762bb.gif width=100% alt="정상 동작 예시">
<div class="theme-admonition theme-admonition-caution admonition_By3b alert alert--warning"><div class=admonitionHeading_sx70><span class=admonitionIcon_dNDB><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>주의</div><div class=admonitionContent_wD73><p>relatedTarget으로 획득하고자 하는 요소가 <code>&lt;button></code> 태그인 경우, <code>&lt;button></code> 태그가 아닌 <code>&lt;button></code> 태그의 상위 태그에 tabIndex를 추가해야 합니다.
Safari에서 <code>&lt;button></code> 태그는 tabIndex를 추가해도 버튼이 포커스를 받지 않도록 설계되었기 때문입니다.</div></div>
<p>다른 해결 방법으로 이벤트 우선순위를 이용하는 방법이 있습니다.</p>
<p>현재 코드는 blur 이벤트와 onclick 이벤트를 사용하여, 우선순위가 더 높은 blur 이벤트의 핸들러가 먼저 동작합니다.
onclick 이벤트가 아닌 onMouseDown 이벤트를 사용하면, 해당 이벤트 핸들러가 먼저 동작하여 relatedTarget을 사용하지 않고 해결할 수 있습니다.</p>
<h2 class="anchor anchorWithStickyNavbar_ERPW" id=정리>정리<a href=#정리 class=hash-link aria-label="정리에 대한 직접 링크" title="정리에 대한 직접 링크">​</a></h2>
<p>Safari에서 포커스를 받지 않는 요소에 relatedTarget을 사용하려면 tabIndex를 추가해야 합니다.</p>
<p>Safari에서 <code>&lt;button></code> 태그는 포커스를 받지 않도록 설계되었습니다.</div><footer class=docusaurus-mt-lg><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class=col><b>태그:</b><ul class="tags_gjXp padding--none margin-left--sm"><li class=tag_mo64><a rel=tag class="tag_JlV0 tagRegular_L0YJ" href=/tags/event>Event</a><li class=tag_mo64><a rel=tag class="tag_JlV0 tagRegular_L0YJ" href=/tags/related-target>relatedTarget</a><li class=tag_mo64><a rel=tag class="tag_JlV0 tagRegular_L0YJ" href=/tags/safari>Safari</a></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="블로그 게시물 탐색"><a class="pagination-nav__link pagination-nav__link--next" href=/welcome><div class=pagination-nav__sublabel>다음 게시물</div><div class=pagination-nav__label>Welcome</div></a></nav></main><div class="col col--2"><div class="tableOfContents_YBwR thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#목차 class="table-of-contents__link toc-highlight">목차</a><li><a href=#요구-사항 class="table-of-contents__link toc-highlight">요구 사항</a><li><a href=#relatedtarget class="table-of-contents__link toc-highlight">relatedTarget</a><li><a href=#이슈 class="table-of-contents__link toc-highlight">이슈</a><li><a href=#해결-방법 class="table-of-contents__link toc-highlight">해결 방법</a><li><a href=#정리 class="table-of-contents__link toc-highlight">정리</a></ul></div></div></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 Han Jun Mo. Built with Docusaurus. </div></div></div></footer></div>