<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>DevJum0 Blog</title>
        <link>https://jum0.github.io/</link>
        <description>DevJum0 Blog</description>
        <lastBuildDate>Sat, 14 Jun 2025 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>ko</language>
        <item>
            <title><![CDATA[6월 2주 차 기록]]></title>
            <link>https://jum0.github.io/25-06-w2</link>
            <guid>https://jum0.github.io/25-06-w2</guid>
            <pubDate>Sat, 14 Jun 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<h3 class="anchor anchorWithStickyNavbar_ERPW" id="zod-urls">zod URLs<a href="https://jum0.github.io/25-06-w2#zod-urls" class="hash-link" aria-label="zod URLs에 대한 직접 링크" title="zod URLs에 대한 직접 링크">​</a></h3>
<div class="language-tsx codeBlockContainer_nkr7 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lUiR"><pre tabindex="0" class="prism-code language-tsx codeBlock_f7Ez thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bYHv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> schema </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> z</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  protocol</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex anchor function" style="color:#d73a49">^</span><span class="token regex regex-source language-regex" style="color:#36acaa">https</span><span class="token regex regex-source language-regex quantifier number" style="color:#36acaa">?</span><span class="token regex regex-source language-regex anchor function" style="color:#d73a49">$</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hostname</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token regex regex-source language-regex anchor function" style="color:#d73a49">^</span><span class="token regex regex-source language-regex" style="color:#36acaa">example</span><span class="token regex regex-source language-regex special-escape escape" style="color:#36acaa">\.</span><span class="token regex regex-source language-regex" style="color:#36acaa">com</span><span class="token regex regex-source language-regex anchor function" style="color:#d73a49">$</span><span class="token regex regex-delimiter" style="color:#36acaa">/</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'https://example.com'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ✅</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'http://example.com'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ❌ - protocol invalid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'https://zombo.com'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// ❌ - hostname invalid</span><br></span></code></pre></div></div>
<ul>
<li><a href="https://zod.dev/api?id=urls" target="_blank" rel="noopener noreferrer">https://zod.dev/api?id=urls</a></li>
<li>인풋을 검사하기 위해서 내부적으로는 <code>new URL()</code> 사용. 다른 플랫폼이나 런타임에서는 다르게 동작할 수 있다.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_ERPW" id="git-revert--m-parent-number-merge-commit-hash">git revert -m &lt;parent-number&gt; &lt;merge-commit-hash&gt;<a href="https://jum0.github.io/25-06-w2#git-revert--m-parent-number-merge-commit-hash" class="hash-link" aria-label="git revert -m <parent-number> <merge-commit-hash>에 대한 직접 링크" title="git revert -m <parent-number> <merge-commit-hash>에 대한 직접 링크">​</a></h3>
<div class="language-bash codeBlockContainer_nkr7 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lUiR"><pre tabindex="0" class="prism-code language-bash codeBlock_f7Ez thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bYHv"><span class="token-line" style="color:#393A34"><span class="token plain">git checkout qa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git revert -m 1 &lt;merge-commit-hash&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git push origin qa</span><br></span></code></pre></div></div>
<ul>
<li><a href="https://git-scm.com/docs/git-revert#Documentation/git-revert.txt--mparent-number" target="_blank" rel="noopener noreferrer">https://git-scm.com/docs/git-revert#Documentation/git-revert.txt--mparent-number</a></li>
<li><code>-m &lt;parent-number&gt;</code> (또는 <code>--mainline &lt;parent-number&gt;</code>)<!-- -->
<ul>
<li>일반 commit은 하나의 부모 commit만 존재하지만, 병합 commit은 두 개 이상의 부모 커밋을 가진다. 따라서 <code>git revert</code>는 어떤 부모의 관점에서 병합을 되돌려야 하는지 없으므로 어떤 부모를 mainline으로 할지 알려줘야 한다.</li>
<li><code>-m 1</code>은 첫 번째 부모.</li>
</ul>
</li>
<li>qa 브랜치에 병합된 특정 merge commit 브랜치를 revert 하기 위해서 사용 (<code>-m 1</code>)<!-- -->
<ul>
<li>ex) qa 브랜치에 A 작업의 merge commit이 있고, 이어서 B 작업의 merge commit이 있다. 그런데 A 작업은 이번 스프린트에 반영되지 않는다고 하여 qa 브랜치에서 B 작업은 유지하면서 A 작업만 되돌려야 하는 상황.</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_ERPW" id="eslintconfigts">eslint.config.ts<a href="https://jum0.github.io/25-06-w2#eslintconfigts" class="hash-link" aria-label="eslint.config.ts에 대한 직접 링크" title="eslint.config.ts에 대한 직접 링크">​</a></h3>
<ul>
<li>
<p>옛날옛날 백엔드 개발자들끼리 만들었다는 백오피스 좀 열어왔는데 린트 설정부터 필요한 것 같아 보다가 발견. <code>.eslintrc</code>, <code>.ignore</code>는 이제 안 쓰더라..</p>
</li>
<li>
<p><a href="https://eslint.org/docs/latest/use/configure/configuration-files" target="_blank" rel="noopener noreferrer">https://eslint.org/docs/latest/use/configure/configuration-files</a></p>
</li>
<li>
<p><a href="https://eslint.org/blog/2022/08/new-config-system-part-1/" target="_blank" rel="noopener noreferrer">https://eslint.org/blog/2022/08/new-config-system-part-1/</a></p>
<ul>
<li><a href="https://jshint.com/" target="_blank" rel="noopener noreferrer">https://jshint.com/</a> - eslintrc의 첫 번째 중대한 변화는 <code>extends</code> 키의 도입이었는데, 이는 JSHint에서 영감</li>
<li>다양한 파일(<code>.eslintrc.json</code>, <code>.eslintrc.yml</code>, <code>.eslintrc.js</code>) 지원했는데, 오히려 비js 파일에서는 유효성 검사를 하지 않아 문제들 발생. 많은 플러그인 규칙들이 이 기능에 의존해서 되돌리지도 못해.</li>
<li>cascade 방식은 사람들이 자신이 작업 중인 프로젝트의 상위 디렉토리에 구성 파일을 인식하지 못하는 문제를 자주 일으켰고,
<code>overrides</code> 구성 안의 <code>extends</code>는 <code>files</code> 및 <code>excludedFiles</code>에 대해 AND 연산자를 사용하여 병합되는데 무슨 의미인지 정확히 모르겠고 우리도 헷갈림ㅎ</li>
<li>점점 복잡해지면서 최종 설정 결과를 계산하는 모든 조합을 아무도 완전히 이해하지 못하는 상황까지 이어짐.</li>
<li>많은 문제들이 산재된 가운데 이어진 ESLint 역사상 가장 논쟁이 많은 <a href="https://github.com/eslint/rfcs/pull/9" target="_blank" rel="noopener noreferrer">RFC 제안서</a>, 18개월의 수정과 논쟁 끝에 완전히 새로운 시스템을 만들기로 결정</li>
</ul>
</li>
<li>
<p><a href="https://eslint.org/blog/2022/08/new-config-system-part-2/" target="_blank" rel="noopener noreferrer">https://eslint.org/blog/2022/08/new-config-system-part-2/</a></p>
<ul>
<li><a href="https://eslint.org/blog/2022/08/new-config-system-part-3/" target="_blank" rel="noopener noreferrer">https://eslint.org/blog/2022/08/new-config-system-part-3/</a></li>
<li>목표. js 사용 방식의 지금의 현실 반영,
프로젝트 구성에서 한 가지 방식만 되도록,
네이티브 로딩 방식인 JS 런타임의 로딩 기능 직접 활용해서 복잡해지지 않도록,
기존 플러그인 작동,
하위 호환성 우선</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_ERPW" id="cline">cline<a href="https://jum0.github.io/25-06-w2#cline" class="hash-link" aria-label="cline에 대한 직접 링크" title="cline에 대한 직접 링크">​</a></h3>
<ul>
<li><a href="https://cline.bot/" target="_blank" rel="noopener noreferrer">https://cline.bot/</a></li>
</ul>]]></content:encoded>
            <category>zod</category>
            <category>git revert</category>
            <category>eslint</category>
            <category>cline</category>
        </item>
        <item>
            <title><![CDATA[6월 1주 차 기록]]></title>
            <link>https://jum0.github.io/25-06-w1</link>
            <guid>https://jum0.github.io/25-06-w1</guid>
            <pubDate>Sat, 07 Jun 2025 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<h3 class="anchor anchorWithStickyNavbar_ERPW" id="여러-개의-github-ssh-관리">여러 개의 github ssh 관리<a href="https://jum0.github.io/25-06-w1#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-github-ssh-%EA%B4%80%EB%A6%AC" class="hash-link" aria-label="여러 개의 github ssh 관리에 대한 직접 링크" title="여러 개의 github ssh 관리에 대한 직접 링크">​</a></h3>
<p>아래 명령어로 SSH 클라이언트 설정 파일 확인 가능</p>
<div class="language-bash codeBlockContainer_nkr7 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lUiR"><pre tabindex="0" class="prism-code language-bash codeBlock_f7Ez thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bYHv"><span class="token-line" style="color:#393A34"><span class="token plain">cat ~/.ssh/config</span><br></span></code></pre></div></div>
<p>어떤 repo를 특정 github ssh로 클론 받기 위해서는 Host를 입력 하면 된다</p>
<div class="language-bash codeBlockContainer_nkr7 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lUiR"><pre tabindex="0" class="prism-code language-bash codeBlock_f7Ez thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bYHv"><span class="token-line" style="color:#393A34"><span class="token plain">cat ~/.ssh/config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#jum0 account</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host github.com-jum0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HostName github.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  User git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IdentityFile ~/.ssh/jum0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IdentitiesOnly yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#company account</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host github.com-company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  HostName github.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  User git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IdentityFile ~/.ssh/id_ed25519</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  IdentitiesOnly yes</span><br></span></code></pre></div></div>
<p>repo 주소 - <code>git@github.com:abc-dev/def-api.git</code></p>
<ul>
<li>개인 계정으로 clone - <code>git@github.com-jum0:abc-dev/def-api.git</code></li>
<li>회사 계정으로 clone - <code>git@github.com-company:abc-dev/def-api.git</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_ERPW" id="git-stash">git stash<a href="https://jum0.github.io/25-06-w1#git-stash" class="hash-link" aria-label="git stash에 대한 직접 링크" title="git stash에 대한 직접 링크">​</a></h3>
<p><code>git stash</code> vs <code>git stash -u</code></p>
<div class="language-bash codeBlockContainer_nkr7 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lUiR"><pre tabindex="0" class="prism-code language-bash codeBlock_f7Ez thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bYHv"><span class="token-line" style="color:#393A34"><span class="token plain">git stash</span><br></span></code></pre></div></div>
<ul>
<li>새롭게 생성한 파일이 아닌 기존의 파일로 git이 이미 추적하고 있는 파일(tracked filed)만 해당</li>
</ul>
<div class="language-bash codeBlockContainer_nkr7 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lUiR"><pre tabindex="0" class="prism-code language-bash codeBlock_f7Ez thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bYHv"><span class="token-line" style="color:#393A34"><span class="token plain">git stash -u</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git stash --include-untracked</span><br></span></code></pre></div></div>
<ul>
<li>git이 이미 추적하고 있는 파일뿐 아니라 새로 생성된 파일을 포함한 모든 파일 해당</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_ERPW" id="eslint-plugin-reactjsx-sort-props-vs-eslint-plugin-perfectionist">eslint-plugin-react/jsx-sort-props vs eslint-plugin-perfectionist<a href="https://jum0.github.io/25-06-w1#eslint-plugin-reactjsx-sort-props-vs-eslint-plugin-perfectionist" class="hash-link" aria-label="eslint-plugin-react/jsx-sort-props vs eslint-plugin-perfectionist에 대한 직접 링크" title="eslint-plugin-react/jsx-sort-props vs eslint-plugin-perfectionist에 대한 직접 링크">​</a></h3>
<ul>
<li>
<p><a href="https://github.com/jsx-eslint/eslint-plugin-react/blob/master/docs/rules/jsx-sort-props.md" target="_blank" rel="noopener noreferrer">eslint-plugin-react/jsx-sort-props</a></p>
</li>
<li>
<p><a href="https://perfectionist.dev/" target="_blank" rel="noopener noreferrer">eslint-plugin-perfectionist</a></p>
</li>
<li>
<p>코드 리뷰를 하면서 boolean 변수를 prop으로 넘기는 <code>isExample={true}</code>와 <code>isExample</code>만 넘기는 코드가 프로젝트에 혼용되어 있다는 것을 알았다.
스타일 차이로 문제는 없다고 생각되지만, 코드의 기준이 있는 게 좋다고 생각해서 관련 플러그인을 찾아보았다.
원하는 동작은 위에서 말한 케이스와 콜백은 뒤에 오고 각 태그에 맞게 중요한 부분?(img 태그에서 src 등)은 앞에 오게, 나머지는 알파벳순으로 정도.
커스텀의 정도가 높다고 생각해서 perfectionist를 사용하려 했는데, 콜백을 포함한 모든 순서를 설정에서 다 넣어줘야 해서 비교적 간단해 보이는 jsx-sort-props로 결정했다.
jsx-sort-props에는 <code>reservedFirst</code> 옵션으로 특정 키워드가 앞에 오게 할 수 있었는데, 얘는 key, ref 등 몇 개만 되길래 사용하지 않았다.
일단은 처음 의도였던 boolean prop만 린팅되도록 설정했다.</p>
</li>
</ul>]]></content:encoded>
            <category>git</category>
            <category>ssh</category>
            <category>eslint</category>
            <category>perfectionist</category>
        </item>
        <item>
            <title><![CDATA[Safari에서 relatedTarget 사용하기]]></title>
            <link>https://jum0.github.io/using-related-target-on-safari</link>
            <guid>https://jum0.github.io/using-related-target-on-safari</guid>
            <pubDate>Tue, 18 Jul 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<p>개발하면서 새롭게 알게된 relatedTarget(<a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/relatedTarget" target="_blank" rel="noopener noreferrer">MouseEvent</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/FocusEvent/relatedTarget" target="_blank" rel="noopener noreferrer">FocusEvent</a>)과 관련 이슈에 대해 작성한 글입니다.</p>
<h2 class="anchor anchorWithStickyNavbar_ERPW" id="목차">목차<a href="https://jum0.github.io/using-related-target-on-safari#%EB%AA%A9%EC%B0%A8" class="hash-link" aria-label="목차에 대한 직접 링크" title="목차에 대한 직접 링크">​</a></h2>
<ul>
<li><a href="https://jum0.github.io/using-related-target-on-safari#%EC%9A%94%EA%B5%AC-%EC%82%AC%ED%95%AD">요구 사항</a></li>
<li><a href="https://jum0.github.io/using-related-target-on-safari#relatedtarget">relatedTarget</a></li>
<li><a href="https://jum0.github.io/using-related-target-on-safari#%EC%9D%B4%EC%8A%88">이슈</a></li>
<li><a href="https://jum0.github.io/using-related-target-on-safari#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95">해결 방법</a></li>
<li><a href="https://jum0.github.io/using-related-target-on-safari#%EC%A0%95%EB%A6%AC">정리</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_ERPW" id="요구-사항">요구 사항<a href="https://jum0.github.io/using-related-target-on-safari#%EC%9A%94%EA%B5%AC-%EC%82%AC%ED%95%AD" class="hash-link" aria-label="요구 사항에 대한 직접 링크" title="요구 사항에 대한 직접 링크">​</a></h2>
<p>구현해야 할 요구 사항은 검색창과 검색 키워드, 키워드 리셋 버튼 간 인터랙션에 관한 것입니다.
인터랙션이라고 표현하니 복잡하게 느껴질 수 있지만, 주변에서 비슷한 기능을 쉽게 접할 수 있습니다.</p>
<img src="https://jum0.github.io/assets/images/requirement-example-8e5bab7669005f8d06df6188d62a0f78.png" width="50%" alt="요구사항 예시">
<p>요구 사항을 정리하면 다음과 같습니다.</p>
<ul>
<li>검색창이 포커스 된다<!-- -->
<ul>
<li>키워드가 없으면 키워드 리셋 버튼이 나타나지 않는다</li>
<li>키워드가 있으면 키워드 리셋 버튼이 나타난다</li>
</ul>
</li>
<li>검색창에서 포커스 아웃되면 키워드 리셋 버튼이 나타나지 않는다</li>
<li>키워드 리셋 버튼을 누르면 키워드가 초기화되고, 검색창이 포커스 된다</li>
</ul>
<p>relatedTarget은 위 요구 사항 중 <code>검색창에서 포커스 아웃되면 키워드 리셋 버튼이 나타나지 않는다</code>는 조건을 만족하기 위해서 찾아보면서 알게 되었습니다.</p>
<h2 class="anchor anchorWithStickyNavbar_ERPW" id="relatedtarget">relatedTarget<a href="https://jum0.github.io/using-related-target-on-safari#relatedtarget" class="hash-link" aria-label="relatedTarget에 대한 직접 링크" title="relatedTarget에 대한 직접 링크">​</a></h2>
<p>relatedTarget은 MouseEvent 와 FocusEvent의 읽기 전용 property로, 이벤트가 발생한 target과 관련된 target을 의미합니다.</p>
<p>조금 생소할 수 있는데, 구체적으로 Mouse Eevnt Type 중 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseenter_event" target="_blank" rel="noopener noreferrer">mouseenter</a>를 들어보겠습니다.</p>
<p>해당 이벤트는 마우스와 같은 포인팅 디바이스의 커서가 요소 안으로 처음 이동했을 때 발생하고, target은 이벤트가 발생한 요소의 객체를 의미합니다.
여기서 relatedTarget은 커서가 mouseevent가 발생하는 요소로 들어오기 전에 있던 직전 요소의 객체를 의미합니다.</p>
<p>즉, 커서가 B 요소에서 A 요소로 이동했고 A 요소로 이동하면서 mouseenter 이벤트가 발생했다면, 발생한 이벤트의 relatedTarget은 B 요소의 객체가 됩니다.</p>
<img src="https://jum0.github.io/assets/images/related-target-example-1-e3bd1a542d0e1e512b858370b08de362.gif" width="100%" alt="related target 예시 1">
<p>relatedTarget은 <a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/relatedTarget" target="_blank" rel="noopener noreferrer">Mouse Event Type</a> 중 mouseenter, mouseleave, mouseover, mouseout, dragenter, dragleave,
<a href="https://developer.mozilla.org/en-US/docs/Web/API/FocusEvent/relatedTarget" target="_blank" rel="noopener noreferrer">Focus Event Type</a> 중 focus, blur, focusin, focusout에서 사용할 수 있습니다.</p>
<p>특징으로 A 요소와 B 요소가 존재하고 예시와 같이 두 요소 간에 커서 이동이 발생할 때,
mouseenter와 mouseleave처럼 동작이 반대되는 이벤트라면 A 요소에서 발생하는 mouseenter 이벤트의 relatedTarget은 B 요소에서 발생하는 mouseleave 이벤트의 target이 됩니다.</p>
<img src="https://jum0.github.io/assets/images/related-target-example-2-ebaeecd654903c8894e829c2019fc11b.gif" width="100%" alt="related target 예시 2">
<img src="https://jum0.github.io/assets/images/related-target-example-3-603f87e4d6553eeaa7790e50c00fab3b.png" width="100%" alt="related target 예시 3">
<h2 class="anchor anchorWithStickyNavbar_ERPW" id="이슈">이슈<a href="https://jum0.github.io/using-related-target-on-safari#%EC%9D%B4%EC%8A%88" class="hash-link" aria-label="이슈에 대한 직접 링크" title="이슈에 대한 직접 링크">​</a></h2>
<p>만족하기 위한 조건은 <code>검색창에서 포커스 아웃되면 키워드 리셋 버튼이 나타나지 않는다</code>입니다.</p>
<p>해당 조건을 조금 더 세분화하면 다음과 같습니다.</p>
<ul>
<li>검색창에서 포커스 아웃되면 키워드 리셋 버튼이 사라진다.</li>
<li>검색창에서 키워드 리셋 버튼을 눌러 포커스 아웃되면, 키워드가 초기화되고, 검색창이 다시 포커스 된다.</li>
</ul>
<p>기능을 구현하기 위해서 <code>&lt;input&gt;</code> 태그의 blur 이벤트 핸들러를 다음과 같이 작성했습니다.</p>
<div class="language-tsx codeBlockContainer_nkr7 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lUiR"><pre tabindex="0" class="prism-code language-tsx codeBlock_f7Ez thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bYHv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">handleBlur</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">FocusEvent</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'handleBlur - e.relatedTarget'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">relatedTarget</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">relatedTarget</span><span class="token operator" style="color:#393A34">?.</span><span class="token method function property-access" style="color:#d73a49">contains</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">resetKeywordButtonRef</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setResetKeywordButtonVisible</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>핸들러의 정상적인 동작 과정은 다음과 같습니다.</p>
<ul>
<li>relatedTarget에 키워드 리셋 버튼 요소가 포함된다.</li>
<li>키워드 리셋 버튼이 사라지지 않는다.</li>
<li>키워드 리셋 버튼이 클릭되어 로직(키워드 초기화)이 동작한다.</li>
</ul>
<p>하지만 Safari에서 핸들러의 동작 과정은 다음과 같습니다.</p>
<ul>
<li>relatedTarget이 null이 되어 키워드 리셋 버튼 요소를 포함하지 않는다.</li>
<li>if 문이 실행되어 키워드 리셋 버튼이 사라진다.</li>
<li>키워드 리셋 버튼이 사라지므로 클릭되지 않고, 따라서 로직도 동작하지 않는다.</li>
</ul>
<img src="https://jum0.github.io/assets/images/safari-issue-example-eefa81ef8eecb879fe4f2ac4777b4014.gif" width="100%" alt="safari issue 예시">
<p>Chrome과 다르게 Safari에서 blur 이벤트 발생 시, relatedTarget이 null이 되어 발생하는 이슈입니다.</p>
<p><a href="https://www.w3.org/TR/2023/WD-uievents-20230627/#event-type-blur" target="_blank" rel="noopener noreferrer">W3C 문서</a>를 보면 blur 이벤트의 relatedTarget은 포커스를 받는 event target입니다.</p>
<p>따라서 키워드 리셋 버튼을 <code>&lt;div&gt;</code> 태그가 아닌, 클릭했을 때 포커스를 얻는 <code>&lt;button&gt;</code> 태그로 변경했으나 여전히 동작하지 않았습니다.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus" target="_blank" rel="noopener noreferrer">button mdn</a>을 보니 Safari의 경우 버튼이 클릭되었을 때 포커스를 주지 않는다고 합니다.
직접 확인해보니 Chrome과 다르게 Safari에서는 버튼이 클릭되었을 때 포커스를 주지 않습니다.</p>
<img src="https://jum0.github.io/assets/images/chrome-safari-button-click-example-82f862fb4324838515eeed2de851e04e.gif" width="100%" alt="chrome safari 버튼 클릭 예시">
<h2 class="anchor anchorWithStickyNavbar_ERPW" id="해결-방법">해결 방법<a href="https://jum0.github.io/using-related-target-on-safari#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95" class="hash-link" aria-label="해결 방법에 대한 직접 링크" title="해결 방법에 대한 직접 링크">​</a></h2>
<p>Safari에서 버튼이 클릭되었을 때 포커스를 주면 되지 않을까 생각하다가 다른 브라우저들과 다르게 동작하는 이유가 궁금해졌습니다.
찾아보니 Mac에서 사용되는 다른 프로그램들과의 통일성을 유지하기 위해서입니다.
Mac에서 사용되는 다른 프로그램들과 다르게 Safari에서만 다르게 동작한다면 이는 통일성을 해치게 된다는 게 입장입니다.
대부분의 다른 브라우저들과 다르게 동작하여 혼란을 야기할 수 있다는 게 대표적인 반대 입장인데, 오랜 논쟁에도 해당 이슈는 수정되지 않았습니다.
시간이 되면 <a href="https://bugs.webkit.org/show_bug.cgi?id=22261" target="_blank" rel="noopener noreferrer">이슈에 관한 논쟁</a>을 읽어보는 것도 꽤 재밌습니다.</p>
<p>다시 해결 방법으로 돌아와서, relatedTarget이 null 되지 않도록 하는 방법은 간단합니다.</p>
<p>태그에 <code>tabIndex</code>를 추가하면 됩니다.</p>
<p>tabIndex는 브라우저에게 요소가 포커스 가능하다는 것을 알려줍니다. 따라서 tabIndex를 추가하면 blur 이벤트 발생 시, Safari에서도 relatedTarget을 획득할 수 있습니다.</p>
<img src="https://jum0.github.io/assets/images/normality-example-db832899390ed3d5e069a18240b762bb.gif" width="100%" alt="정상 동작 예시">
<div class="theme-admonition theme-admonition-caution admonition_By3b alert alert--warning"><div class="admonitionHeading_sx70"><span class="admonitionIcon_dNDB"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>주의</div><div class="admonitionContent_wD73"><p>relatedTarget으로 획득하고자 하는 요소가 <code>&lt;button&gt;</code> 태그인 경우, <code>&lt;button&gt;</code> 태그가 아닌 <code>&lt;button&gt;</code> 태그의 상위 태그에 tabIndex를 추가해야 합니다.
Safari에서 <code>&lt;button&gt;</code> 태그는 tabIndex를 추가해도 버튼이 포커스를 받지 않도록 설계되었기 때문입니다.</p></div></div>
<p>다른 해결 방법으로 이벤트 우선순위를 이용하는 방법이 있습니다.</p>
<p>현재 코드는 blur 이벤트와 onclick 이벤트를 사용하여, 우선순위가 더 높은 blur 이벤트의 핸들러가 먼저 동작합니다.
onclick 이벤트가 아닌 onMouseDown 이벤트를 사용하면, 해당 이벤트 핸들러가 먼저 동작하여 relatedTarget을 사용하지 않고 해결할 수 있습니다.</p>
<h2 class="anchor anchorWithStickyNavbar_ERPW" id="정리">정리<a href="https://jum0.github.io/using-related-target-on-safari#%EC%A0%95%EB%A6%AC" class="hash-link" aria-label="정리에 대한 직접 링크" title="정리에 대한 직접 링크">​</a></h2>
<p>Safari에서 포커스를 받지 않는 요소에 relatedTarget을 사용하려면 tabIndex를 추가해야 합니다.</p>
<p>Safari에서 <code>&lt;button&gt;</code> 태그는 포커스를 받지 않도록 설계되었습니다.</p>]]></content:encoded>
            <category>Event</category>
            <category>relatedTarget</category>
            <category>Safari</category>
        </item>
        <item>
            <title><![CDATA[Welcome]]></title>
            <link>https://jum0.github.io/welcome</link>
            <guid>https://jum0.github.io/welcome</guid>
            <pubDate>Thu, 26 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Docusaurus blogging features are powered by the blog plugin.]]></description>
            <content:encoded><![CDATA[<p><a href="https://docusaurus.io/docs/blog" target="_blank" rel="noopener noreferrer">Docusaurus blogging features</a> are powered by the <a href="https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-blog" target="_blank" rel="noopener noreferrer">blog plugin</a>.</p>
<p>Simply add Markdown files (or folders) to the <code>blog</code> directory.</p>
<p>Regular blog authors can be added to <code>authors.yml</code>.</p>
<p>The blog post date can be extracted from filenames, such as:</p>
<ul>
<li><code>2019-05-30-welcome.md</code></li>
<li><code>2019-05-30-welcome/index.md</code></li>
</ul>
<p>A blog post folder can be convenient to co-locate blog post images:</p>
<p><img decoding="async" loading="lazy" alt="Docusaurus Plushie" src="https://jum0.github.io/assets/images/docusaurus-plushie-banner-a60f7593abca1e3eef26a9afa244e4fb.jpeg" width="1500" height="500" class="img_K_IL"></p>
<p>The blog supports tags as well!</p>
<p><strong>And if you don't want a blog</strong>: just delete this directory, and use <code>blog: false</code> in your Docusaurus config.</p>]]></content:encoded>
            <category>facebook</category>
            <category>hello</category>
            <category>docusaurus</category>
        </item>
        <item>
            <title><![CDATA[MDX Blog Post]]></title>
            <link>https://jum0.github.io/mdx-blog-post</link>
            <guid>https://jum0.github.io/mdx-blog-post</guid>
            <pubDate>Sun, 01 Aug 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[{/ truncate /}]]></description>
            <content:encoded><![CDATA[
<p>Blog posts support <a href="https://docusaurus.io/docs/markdown-features" target="_blank" rel="noopener noreferrer">Docusaurus Markdown features</a>, such as <a href="https://mdxjs.com/" target="_blank" rel="noopener noreferrer">MDX</a>.</p>
<div class="theme-admonition theme-admonition-tip admonition_By3b alert alert--success"><div class="admonitionHeading_sx70"><span class="admonitionIcon_dNDB"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>팁</div><div class="admonitionContent_wD73"><p>Use the power of React to create interactive blog posts.</p><div class="language-js codeBlockContainer_nkr7 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_lUiR"><pre tabindex="0" class="prism-code language-js codeBlock_f7Ez thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_bYHv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'button clicked!'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Click</span><span class="token plain"> me</span><span class="token operator" style="color:#393A34">!</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre></div></div><button>Click me!</button></div></div>]]></content:encoded>
            <category>docusaurus</category>
        </item>
        <item>
            <title><![CDATA[Long Blog Post]]></title>
            <link>https://jum0.github.io/long-blog-post</link>
            <guid>https://jum0.github.io/long-blog-post</guid>
            <pubDate>Wed, 29 May 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[This is the summary of a very long blog post,]]></description>
            <content:encoded><![CDATA[<p>This is the summary of a very long blog post,</p>
<p>Use a <code>&lt;!--</code> <code>truncate</code> <code>--&gt;</code> comment to limit blog post size in the list view.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>]]></content:encoded>
            <category>hello</category>
            <category>docusaurus</category>
        </item>
        <item>
            <title><![CDATA[First Blog Post]]></title>
            <link>https://jum0.github.io/first-blog-post</link>
            <guid>https://jum0.github.io/first-blog-post</guid>
            <pubDate>Tue, 28 May 2019 00:00:00 GMT</pubDate>
            <description><![CDATA[Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet]]></description>
            <content:encoded><![CDATA[<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p>]]></content:encoded>
            <category>hola</category>
            <category>docusaurus</category>
        </item>
    </channel>
</rss>